<!DOCTYPE html>
<html class="x-admin-sm" lang="zh" xmlns:th="http://www.thymeleaf.org">
        <head>
            <meta charset="UTF-8">
            <title>秦疆'Blog</title>
            <meta name="renderer" content="webkit">
            <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
            <meta name="viewport" content="width=device-width,user-scalable=yes, minimum-scale=0.4, initial-scale=0.8,target-densitydpi=low-dpi" />
            <!--Editor.md-->
        <link rel="stylesheet" th:href="@{/lib/editormd/css/style.css}" />
        <link rel="stylesheet"  th:href="@{/lib/editormd/css/editormd.css}" />
        <link rel="shortcut icon" href="https://pandao.github.io/editor.md/favicon.ico" type="image/x-icon" />
    </head>
    <body>

         
        <form class="layui-form"> <!-- 提示：如果你不想用form，你可以换成div等任何一个普通元素 -->
            <div class="layui-form-item">
              <label class="layui-form-label">输入框</label>
              <div class="layui-input-block">
                <input type="text" name="" placeholder="请输入" autocomplete="off" class="layui-input">
              </div>
            </div>
            <div class="layui-form-item">
              <label class="layui-form-label">下拉选择框</label>
              <div class="layui-input-block">
                <select name="interest" lay-filter="aihao">
                  <option value="0">写作</option>
                  <option value="1">阅读</option>
                </select>
              </div>
            </div>
            <div class="layui-form-item">
              <label class="layui-form-label">复选框</label>
              <div class="layui-input-block">
                <input type="checkbox" name="like[write]" title="写作">
                <input type="checkbox" name="like[read]" title="阅读">
              </div>
            </div>
            <div class="layui-form-item">
              <label class="layui-form-label">开关关</label>
              <div class="layui-input-block">
                <input type="checkbox" lay-skin="switch">
              </div>
            </div>
            <div class="layui-form-item">
              <label class="layui-form-label">开关开</label>
              <div class="layui-input-block">
                <input type="checkbox" checked lay-skin="switch">
              </div>
            </div>
            <div class="layui-form-item">
              <label class="layui-form-label">单选框</label>
              <div class="layui-input-block">
                <input type="radio" name="sex" value="0" title="男">
                <input type="radio" name="sex" value="1" title="女" checked>
              </div>
            </div>
            <div class="layui-form-item layui-form-text">
              <label class="layui-form-label">请填写描述</label>
              <div class="layui-input-block">
                <textarea placeholder="请输入内容" class="layui-textarea"></textarea>
              </div>
            </div>
            <div class="layui-form-item">
              <div class="layui-input-block">
                <button class="layui-btn" lay-submit lay-filter="*">立即提交</button>
                <button type="reset" class="layui-btn layui-btn-primary">重置</button>
              </div>
            </div>
            <!-- 更多表单结构排版请移步文档左侧【页面元素-表单】一项阅览 -->
          </form>
          <script src="layui.js"></script>
          <script>
          layui.use('form', function(){
            var form = layui.form;
            
            //各种基于事件的操作，下面会有进一步介绍
          });
          </script>


        <script th:src="@{/lib/jquery.min.js}"></script>
        <script th:src="@{/lib/editormd/editormd.min.js}"></script>
        <script type="text/javascript">
            var testEditor;
            //window.onload = function(){ }
            $(function() {
                testEditor = editormd("article-content", {
                    width : "30%",
                    height : 400,
                    syncScrolling : "single",
                    path : "../lib/editormd/lib/",
                    saveHTMLToTextarea : true,    // 保存 HTML 到 Textarea
                    emoji: true,
                    theme: "dark",//工具栏主题
                    previewTheme: "dark",//预览主题
                    editorTheme: "pastel-on-dark",//编辑主题
                    tex : true,                   // 开启科学公式TeX语言支持，默认关闭
                    flowChart : true,             // 开启流程图支持，默认关闭
                    sequenceDiagram : true,       // 开启时序/序列图支持，默认关闭,
                    //图片上传
                    imageUpload : true,
                    imageFormats : ["jpg", "jpeg", "gif", "png", "bmp", "webp"],
                    imageUploadURL : "/article/file/upload",
                    onload : function() {
                        console.log('onload', this);
                    },
                    /*指定需要显示的功能按钮*/
                    toolbarIcons : function() {
                        return ["undo","redo","|",
                            "bold","del","italic","quote","ucwords","uppercase","lowercase","|",
                            "h1","h2","h3","h4","h5","h6","|",
                            "list-ul","list-ol","hr","|",
                            "link","reference-link","image","code","preformatted-text",
                            "code-block","table","datetime","emoji","html-entities","pagebreak","|",
                            "goto-line","watch","preview","fullscreen","clear","search","|",
                            "help","info","releaseIcon", "index"]
                    },
                    /*自定义功能按钮，下面我自定义了2个，一个是发布，一个是返回首页*/
                    toolbarIconTexts : {
                        releaseIcon : "<span bgcolor=\"gray\">发布</span>",
                        index : "<span bgcolor=\"red\">返回首页</span>",
                    },
         
                    /*给自定义按钮指定回调函数*/
                    toolbarHandlers:{
                        releaseIcon : function(cm, icon, cursor, selection) {
                            //表单提交
                            mdEditorForm.method = "post";
                            mdEditorForm.action = "/article/addArticle";//提交至服务器的路径
                            mdEditorForm.submit();
                        },
                        index : function(){
                            window.location.href = '/';
                        },
                    }
                });
            });
        </script>
    </body>
</html>